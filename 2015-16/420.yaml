---
name: Mathematics
type: major
code: '420'
degree: B.A.

result:
  all:
    - requirement: Basics
    - requirement: Electives
    - requirement: Transitions
    - requirement: Perspectives
    - requirement: Level III
    - requirement: Sequence

  audit:
    all:
      - where: {year: {$gte: $matriculation-year}}
        assert: {count(courses): {$gte: 6}}

      - where: {subject: {$in: [STAT, CSCI, MSCS]}}
        assert: {count(courses): {$lte: 2}}

limit:
  - at-most: 1
    where:
      course:
        $in:
          - STAT 212
          - STAT 214
          - STAT 272
          - MSCS 264

requirements:
  Basics:
    result:
      all:
        - at_most: true
          either:
            - all:
                - at_most: true
                  any:
                    - course: MATH 120
                    - course: MATH 119
                    - ap: AP Calculus I
                - at_most: true
                  any:
                    - course: MATH 126
                    - course: MATH 128
                    - ap: IB Mathematics
            - ap: AP Calculus I and II
        - course: MATH 220

  Electives:
    result:
      from: courses
      where:
        $or:
          - attribute:
              $in:
                - math_electives
                - math_l2_electives
                - math_l3_electives

          - $if:
              from: areas
              where: {$and: [{type: {$eq: Major}}, {name: {$eq: Physics}}]}
              assert: {count(areas): {$gte: 1}}
            $then: {course: {$eq: PHYS 375}}

          - $if:
              from: areas
              where: {$and: [{type: {$eq: Major}}, {name: {$eq: Economics}}]}
              assert: {count(areas): {$gte: 1}}
            $then: {course: {$eq: ECON 385}}

          - $if:
              from: areas
              where: {$and: [{type: {$eq: Major}}, {name: {$eq: Chemistry}}]}
              assert: {count(areas): {$gte: 1}}
            $then: {course: {$eq: CHEM 371}}

          - $and:
              - subject: {$eq: MATH}
              - level: {$eq: 200}
      assert:
        count(courses): {$gte: 7, at_most: true}

  Transitions:
    result:
      from: courses
      allow_claimed: true
      where: {attribute: {$eq: math_transitions}}
      assert: {count(courses): {$gte: 2, at_most: true}}

  Perspectives:
    result:
      at_most: true
      count: 3
      of:
        - requirement: A
        - requirement: C
        - requirement: D
        - requirement: M

    requirements:
      A:
        result:
          from: courses
          allow_claimed: true
          where: {attribute: {$eq: math_perspective_a}}
          assert: {count(courses): {$gte: 1, at_most: true}}

      C:
        result:
          from: courses
          allow_claimed: true
          where: {attribute: {$eq: math_perspective_c}}
          assert: {count(courses): {$gte: 1, at_most: true}}

      D:
        result:
          from: courses
          allow_claimed: true
          where: {attribute: {$eq: math_perspective_d}}
          assert: {count(courses): {$gte: 1, at_most: true}}

      M:
        result:
          from: courses
          allow_claimed: true
          where: {attribute: {$eq: math_perspective_m}}
          assert: {count(courses): {$gte: 1, at_most: true}}

  Level III:
    result:
      from: courses
      allow_claimed: true
      where: {attribute: {$eq: math_l3_electives}}
      all:
        - message: Two 300-level courses
          assert: {count(courses): {$gte: 2, at_most: true}}

        - message: At least one 300-level MATH course
          where: {subject: {$eq: MATH}}
          assert: {count(courses): {$gte: 1}}

  Sequence:
    result:
      at_most: true
      any:
        - both:
            - {course: MATH 220, allow_claimed: true}
            - at_most: true
              either:
                - {course: MATH 356, allow_claimed: true}
                - {course: MSCS 341, allow_claimed: true}
        - both:
            - {course: MATH 226, allow_claimed: true}
            - {course: MATH 340, allow_claimed: true}
        - both:
            - {course: MATH 230, allow_claimed: true}
            - {course: MATH 330, allow_claimed: true}
        - both:
            - {course: MATH 232, allow_claimed: true}
            - {course: MATH 364, allow_claimed: true}
        - both:
            - {course: MATH 244, allow_claimed: true}
            - at_most: true
              either:
                - {course: MATH 344, allow_claimed: true}
                - {course: MATH 348, allow_claimed: true}
        - both:
            - {course: MATH 252, allow_claimed: true}
            - {course: MATH 352, allow_claimed: true}
        - both:
            - {course: MATH 262, allow_claimed: true}
            - {course: STAT 322, allow_claimed: true}
