---
name: Religion
type: major
code: '570'
degree: B.A.

result:
  count: all
  of:
    - requirement: General Education
    - requirement: What is Religion?
    - requirement: Religious Dimensions
    - requirement: Intensive Studies
    - requirement: Intensive Studies Seminar
    - requirement: Optional Electives

  audit:
    assert: {count(courses): {$gte: 8}}

requirements:
  General Education:
    result:
      both:
        - from: courses
          where: {gereqs: {$eq: BTS-B}}
          claim: false
          allow_claimed: true
          assert: {count(courses): {$gte: 1}}

        - from: courses
          where: {gereqs: {$eq: BTS-T}}
          claim: false
          allow_claimed: true
          assert: {count(courses): {$gte: 1}}

  What is Religion?:
    result:
      course: REL 285

  Religious Dimensions:
    message: |
      Courses that focus on three different dimensions of religion (and deal
      with at least two different religious traditions)
    result:
      from: courses
      where:
        attributes:
          $in:
            - rel_sacred_texts
            - rel_history_culture
            - rel_thought
      all:
        - where: {attributes: {$eq: rel_sacred_texts}}
          assert: {count(courses): {$gte: 1}}

        - where: {attributes: {$eq: rel_history_culture}}
          assert: {count(courses): {$gte: 1}}

        - where: {attributes: {$eq: rel_thought}}
          assert: {count(courses): {$gte: 1}}

  Intensive Studies:
    result:
      from: courses
      allow_claimed: true
      where: {attributes: {$eq: rel_intensive}}
      assert: {count(courses): {$gte: 1, at_most: true}}

  Intensive Studies Seminar:
    result:
      from: courses
      allow_claimed: true
      where:
        $or:
          - attributes: {$eq: rel_intensive}
          - attributes: {$eq: rel_intensive_seminar}
      assert: {count(courses): {$gte: 1, at_most: true}}

  Optional Electives:
    result:
      from: courses
      where: {attribute: {$eq: rel_elective}}
      assert: {count(courses): {$gte: 0}}
