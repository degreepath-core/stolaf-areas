---
name: Spanish
type: major
degree: B.A.
catalog: 2018-19

result:
  all:
    - requirement: Core
    - requirement: Electives

limit:
  - {at-most: 2, where: {institution: {$neq: 'St. Olaf College'}}}

requirements:
  Core:
    result:
      all:
        - course: SPAN 250
        - course: SPAN 275
        - course: SPAN 276
        - either:
            - course: SPAN 313
            - course: SPAN 314

  Electives:
    message: >
      You must take one (1) additional level III course from St. Olaf College,
      and three (3) electives above the the 250 level.

      Of these four (4) courses, at least one must focus on Spain, and one on
      Latin America.

    result:
      from: {student: courses}
      where: {attribute: {$in: spanish_elective}}
      all:
        - assert: {count(courses): {$gte: 4}}

        - where: {attribute: {$eq: spanish_focus_spain}}
          assert: {count(courses): {$gte: 1}}

        - where: {attribute: {$eq: spanish_focus_latinamerica}}
          assert: {count(courses): {$gte: 1}}

        - where:
            $and:
              - level: {$eq: 300}
              - institution: {$eq: 'St. Olaf College'}
          assert: {count(courses): {$gte: 1}}

attributes:
  multicountable:
    - - {course: {$eq: SPAN 313}}
      - {attributes: {$eq: spanish_elective}}
    - - {course: {$eq: SPAN 313}}
      - {attributes: {$eq: spanish_focus_spain}}

    - - {course: {$eq: SPAN 314}}
      - {attributes: {$eq: spanish_elective}}
    - - {course: {$eq: SPAN 314}}
      - {attributes: {$eq: spanish_focus_latinamerica}}

  courses:
    SPAN 270: [spanish_elective, spanish_focus_spain]
    SPAN 271: [spanish_elective, spanish_focus_spain]
    SPAN 272: [spanish_elective, spanish_focus_latinamerica]
    SPAN 273: [spanish_elective, spanish_focus_latinx_in_us]
    SPAN 274: [spanish_elective]  # focus depends on topic
    SPAN 275: [spanish_elective]
    SPAN 276: [spanish_elective]
    SPAN 311: [spanish_elective]  # focus depends on topic
    SPAN 312: [spanish_elective]  # focus depends on topic
    SPAN 313: [spanish_elective, spanish_focus_spain]
    SPAN 314: [spanish_elective, spanish_focus_latinamerica]
    SPAN 315: [spanish_elective, spanish_focus_spain]
    SPAN 399: [spanish_elective]  # focus depends on topic
