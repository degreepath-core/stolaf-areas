---
name: B.M.
type: degree

result:
  all:
    - requirement: Required Course Credit
    - requirement: Credits Taken At/Through St. Olaf College
    - requirement: Transfer Credit
    - requirement: Interim Credits
    - requirement: Cumulative Grade Point Average
    - requirement: Level II/III Course Credit
    - requirement: Graded Course Credit
    - requirement: Declared Major
    - requirement: Allowed S/U Course Credit

    - requirement: First-Year Writing
    - requirement: Writing in Context
    - requirement: Foreign Language
    - requirement: Oral Communication
    - requirement: Reasoning
    - requirement: Studies in Physical Movement
    - requirement: Historical Studies in Western Culture or Literary Studies
    - requirement: Multicultural Studies
    - requirement: Biblical and Theological Studies
    - requirement: Studies in Human Behavior and Society
    - requirement: Ethical Issues and Normative Perspectives


requirements:
  Required Course Credit:
    result:
      from: {student: courses}
      where:
        $or:
          - subject: {$neq: REG}
          - course: {$eq: REG 0001}
      load_potentials: false
      claim: false
      assert: {sum(credits): {$gte: 35}}

  Credits Taken At/Through St. Olaf College:
    result:
      from: {student: courses}
      load_potentials: false
      claim: false
      where:
        $or:
          - is_stolaf: {$eq: true}
          - is_in_gpa: {$eq: true}
      assert: {sum(credits): {$gte: 17}}

  Transfer Credit:
    message: |
      After matriculation, you may transfer in the equivalent of 4 St. Olaf
      credits from other institutions. This number may be reduced for transfer
      students.
    result:
      from: {student: courses}
      where: {course: {$eq: REG 0004}}
      claim: false
      assert: {sum(credits): {$lte: 4}}

  Interim Credits:
    result:
      from: {student: courses}
      load_potentials: false
      claim: false
      where: {semester: {$eq: 2}}
      assert: {sum(credits): {$gte: 3}}

  Cumulative Grade Point Average:
    result:
      from: {student: areas}
      where:
        $and:
          - type: {$eq: Degree}
          - code: {$eq: 'B.M.'}
          - gpa: {$gte: '2.00'}
      assert: {count(areas): {$gte: 1}}
      # from: {student: courses}
      # load_potentials: false
      # claim: false
      # assert: {average(grades): {$gte: 2.0}}

  Level II/III Course Credit:
    result:
      from: {student: courses}
      load_potentials: false
      claim: false
      where: {level: {$gte: 200}}
      assert: {sum(credits): {$gte: 18}}

  Graded Course Credit:
    result:
      from: {student: courses}
      load_potentials: false
      claim: false
      where: {grade_option: {$eq: grade}}
      assert: {sum(credits): {$gte: 24}}

  Declared Major:
    message:
      You must declare a major by the spring of your sophomore year.
    result:
      from: {student: areas}
      claim: false
      where:
        $and:
          - type: {$eq: Major}
          - degree: {$eq: B.M.}
      assert: {count(areas): {$gte: 1}}

  Allowed S/U Course Credit:
    message:
      In completing the minimum of 35 full credits required for graduation,
      students may take up to six full-course equivalents (6.00 credits) on an
      S/U basis.
    result:
      from: {student: courses}
      claim: false
      where: {s/u: {$eq: true}}
      assert: {sum(credits): {$lte: 6.00}}

  First-Year Writing:
    result:
      from: {student: courses}
      claim: false
      limit:
        - {at-most: 0, where: {$and: [s/u: {$eq: true}, credits: {$neq: 0.25}]}}
      where: {gereqs: {$eq: FYW}}
      assert: {count(courses): {$gte: 1, at_most: true}}

  Writing in Context:
    result:
      from: {student: courses}
      claim: false
      limit:
        - {at-most: 0, where: {$and: [s/u: {$eq: true}, credits: {$neq: 0.25}]}}
      where: {gereqs: {$eq: WRI}}
      assert: {count(courses): {$gte: 4, at_most: true}}

  Foreign Language:
    result:
      from: {student: courses}
      claim: false
      limit:
        - {at-most: 0, where: {$and: [s/u: {$eq: true}, credits: {$neq: 0.25}]}}
      where:
        $or:
          - attribute:
              $in:
                - bm_fol_chin
                - bm_fol_fren
                - bm_fol_germ
                - bm_fol_greek
                - bm_fol_japan
                - bm_fol_latin
                - bm_fol_norw
                - bm_fol_russn
                - bm_fol_span
          - gereqs:
              $in:
                - FOL-C
                - FOL-F
                - FOL-G
                - FOL-K
                - FOL-J
                - FOL-L
                - FOL-N
                - FOL-O
                - FOL-R
                - FOL-S
                - FOL-Y
      assert: {count(courses): {$gte: 1, at_most: true}}

  Oral Communication:
    result:
      from: {student: courses}
      claim: false
      limit:
        - {at-most: 0, where: {$and: [s/u: {$eq: true}, credits: {$neq: 0.25}]}}
      where: {gereqs: {$eq: ORC}}
      assert: {count(courses): {$gte: 1, at_most: true}}

  Reasoning:
    result:
      from: {student: courses}
      claim: false
      limit:
        - {at-most: 0, where: {$and: [s/u: {$eq: true}, credits: {$neq: 0.25}]}}
      where: {gereqs: {$in: [AQR, SED, IST]}}
      assert: {count(courses): {$gte: 1, at_most: true}}

  Studies in Physical Movement:
    result:
      from: {student: courses, repeats: first}
      claim: false
      limit:
        - {at-most: 0, where: {$and: [s/u: {$eq: true}, credits: {$neq: 0.25}]}}
      where: {gereqs: {$eq: SPM}}
      assert: {count(courses): {$gte: 2, at_most: true}}

  Historical Studies in Western Culture or Literary Studies:
    result:
      from: {student: courses}
      claim: false
      limit:
        - {at-most: 0, where: {$and: [s/u: {$eq: true}, credits: {$neq: 0.25}]}}
      where: {gereqs: {$in: [HWC, ALS-L]}}
      assert: {count(courses): {$gte: 1, at_most: true}}

  Multicultural Studies:
    result:
      from: {student: courses}
      claim: false
      limit:
        - {at-most: 0, where: {$and: [s/u: {$eq: true}, credits: {$neq: 0.25}]}}
      where: {gereqs: {$in: [MCD, MCG]}}
      assert: {count(courses): {$gte: 1, at_most: true}}

  Biblical and Theological Studies:
    result:
      from: {student: courses}
      claim: false
      limit:
        - {at-most: 0, where: {$and: [s/u: {$eq: true}, credits: {$neq: 0.25}]}}
      where: {gereqs: {$in: [BTS-B, BTS-T]}}
      all:
        - assert: {count(courses): {$gte: 2}}

        - where: {gereqs: {$eq: BTS-B}}
          assert: {count(courses): {$gte: 1}}

        - where: {gereqs: {$eq: BTS-T}}
          assert: {count(courses): {$gte: 1}}

  Studies in Human Behavior and Society:
    result:
      from: {student: courses}
      claim: false
      limit:
        - {at-most: 0, where: {$and: [s/u: {$eq: true}, credits: {$neq: 0.25}]}}
      where: {gereqs: {$eq: HBS}}
      assert: {count(courses): {$gte: 1, at_most: true}}

  Ethical Issues and Normative Perspectives:
    result:
      from: {student: courses}
      claim: false
      limit:
        - {at-most: 0, where: {$and: [s/u: {$eq: true}, credits: {$neq: 0.25}]}}
      where: {gereqs: {$eq: EIN}}
      assert: {count(courses): {$gte: 1, at_most: true}}
